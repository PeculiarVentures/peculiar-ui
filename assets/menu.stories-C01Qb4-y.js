import{j as e}from"./jsx-runtime-xF634gn_.js";import{e as r}from"./index-C-7etoUd.js";import{s as x}from"./emotion-styled.browser.esm-CnX2NPaZ.js";import{M as E}from"./menu_list-Bfit9jTP.js";import{P as L}from"./popover-B-Hhk2XE.js";import{M as S}from"./menu_item-B36kDrSa.js";import{u as B}from"./use_merged_ref-ClS6-mGQ.js";import{P as D}from"./popper-BrnnUaNn.js";import{B as A}from"./box-D_T88elW.js";import{A as F}from"./arrow_rigth-DGBUR89c.js";import{P as H}from"./plus_icon-Dhcui2ph.js";import{B as K}from"./button-D4_Ya0I2.js";import"./emotion-element-f0de968e.browser.esm-DLlpVLeB.js";import"./use_enhanced_effect-B1RabiBj.js";import"./usePopper-CdO4NS3w.js";import"./index-dzNl0v_V.js";import"./index-DWe4bgYs.js";import"./modal-D5cgANfz.js";import"./portal-B1al-bvw.js";import"./fade-DHl67KFq.js";import"./Transition-RLbX08wD.js";import"./typography-DuoUhFsW.js";import"./button_base-CybQvLg0.js";const J=x(E)(t=>({minWidth:"16px",minHeight:"16px",...t.theme.mode==="dark"?{boxShadow:"var(--pv-shadow-dark-medium)",backgroundColor:"var(--pv-color-gray-3)"}:{boxShadow:"var(--pv-shadow-light-low)",backgroundColor:"var(--pv-color-white)"}})),m=r.forwardRef((t,h)=>{const{label:v,children:b,...s}=t,[i,p]=r.useState(!1),n=r.useRef(null),c=B(h,n),a=r.useCallback(()=>p(!0),[]),d=r.useCallback(()=>p(!1),[]);return e.jsxs(S,{...s,endIcon:e.jsx(F,{}),ref:c,onMouseEnter:a,onMouseLeave:d,onClick:a,children:[v,e.jsx(D,{open:i,anchorEl:n.current,placement:"right-start",disablePortal:!0,onMouseLeave:d,children:e.jsx(A,{component:J,borderRadius:4,children:b})})]})});m.displayName="SubMenuItem";try{m.displayName="SubMenuItem",m.__docgenInfo={description:"",displayName:"SubMenuItem",props:{component:{defaultValue:null,description:`The component used for the root node.
Either a string to use a HTML element or a component.`,name:"component",required:!0,type:{name:"ElementType<any, keyof IntrinsicElements>"}},disabled:{defaultValue:null,description:"If `true`, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},textVariant:{defaultValue:null,description:"The variant of text to use.",name:"textVariant",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"s1"'},{value:'"s2"'},{value:'"b1"'},{value:'"b2"'},{value:'"b3"'},{value:'"btn1"'},{value:'"btn2"'},{value:'"c1"'},{value:'"c2"'}]}},startIcon:{defaultValue:null,description:"Element placed before the children.",name:"startIcon",required:!1,type:{name:"ReactNode"}},endIcon:{defaultValue:null,description:"Element placed after the children.",name:"endIcon",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"The className of the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const W=x("hr")({height:"1px",backgroundColor:"var(--pv-color-gray-5)",margin:"var(--pv-size-base) 0px",border:"none"}),X=x(L)({'&[data-popper-placement^="bottom"]':{margin:"var(--pv-size-base-3) 0px"},'&[data-popper-placement^="top"]':{margin:"var(--pv-size-base-3) 0px"},'&[data-popper-placement^="right"]':{margin:"0px var(--pv-size-base-3)"},'&[data-popper-placement^="left"]':{margin:"0px var(--pv-size-base-3)"}}),f=r.forwardRef((t,h)=>{const{children:v,options:b,onClose:s,popoverProps:i={}}=t,{modalProps:p={}}=i,[n,c]=r.useState(!1),a=r.useRef(null),d=()=>{c(!0)},g=()=>{c(!1),s&&s()},q=o=>l=>{o.onClick&&o.onClick(l),g()},w=o=>{o.key==="Tab"&&(o.preventDefault(),g())},P=(o,l)=>{if(o==="divider")return e.jsx(W,{},l);const{component:C,disabled:M,label:k,subOptions:y,className:I,textVariant:_,startIcon:O,endIcon:z,onClick:G,...V}=o;return y&&y.length?e.jsx(m,{component:C,textVariant:_,disabled:M,label:k,className:I,...V,children:y.map(P)},l):e.jsx(S,{component:C,textVariant:_,disabled:M,className:I,startIcon:O,endIcon:z,onClick:q(o),...V,children:k},l)},T={ref:a,onClick:d,"aria-haspopup":"menu","aria-expanded":String(n)};return e.jsxs(e.Fragment,{children:[r.cloneElement(v,T),e.jsx(X,{...i,modalProps:{...p,disableAutoFocus:!1},ref:h,open:n,anchorEl:a.current,onClose:g,onKeyDown:w,children:e.jsx(E,{children:b.map(P)})})]})});f.displayName="Menu";try{f.displayName="Menu",f.__docgenInfo={description:"",displayName:"Menu",props:{children:{defaultValue:null,description:"Menu reference element.",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},options:{defaultValue:null,description:"Menu contents.",name:"options",required:!0,type:{name:'(TMenuOptionProps | "divider")[]'}},onClose:{defaultValue:null,description:"Callback fired when the component requests to be closed.",name:"onClose",required:!1,type:{name:"() => void"}},popoverProps:{defaultValue:null,description:"Props applied to the `Popover` element.",name:"popoverProps",required:!1,type:{name:"Partial<TPopoverProps>"}}}}}catch{}const ge={title:"Components/Menu",component:f,tags:["autodocs"],args:{children:e.jsx(K,{children:"+"}),options:[{label:"Print",disabled:!0,onClick:()=>console.log("print")},{label:"Save to my profile",startIcon:e.jsx(H,{})},"divider",{label:"Options",subOptions:[{label:"Full screen",onClick:()=>console.log("full screen")},{label:"Search",onClick:()=>console.log("search")},{label:"Previous",onClick:()=>console.log("previous")},{label:"Next",onClick:()=>console.log("next")}]}]},argTypes:{children:{control:!1},options:{control:!1},popoverProps:{control:!1}}},u={};var N,R,j;u.parameters={...u.parameters,docs:{...(N=u.parameters)==null?void 0:N.docs,source:{originalSource:"{}",...(j=(R=u.parameters)==null?void 0:R.docs)==null?void 0:j.source}}};const ye=["Playground"];export{u as Playground,ye as __namedExportsOrder,ge as default};
