import{j as e}from"./jsx-runtime-xF634gn_.js";import{e as o}from"./index-C-7etoUd.js";import{n as S}from"./emotion-styled.browser.esm-4GIPFSzo.js";import{M as E}from"./menu_list-DfwrK2FV.js";import{P as z}from"./popover-DYvJg7jX.js";import{M as j}from"./menu_item-CUFItHZO.js";import{u as B}from"./use_merged_ref-ClS6-mGQ.js";import{P as A}from"./popper-CrKow5hf.js";import{B as D}from"./box-C8DasW3x.js";import{A as F}from"./arrow_rigth-DGBUR89c.js";import{P as H}from"./plus_icon-Dhcui2ph.js";import{B as K}from"./button-BW4VTGL6.js";import"./emotion-element-c39617d8.browser.esm-Dg8JpHKD.js";import"./use_enhanced_effect-B1RabiBj.js";import"./usePopper-DVVtgb3V.js";import"./index-DVfLDD12.js";import"./index-CtyGc8zC.js";import"./modal-DH-q5n4u.js";import"./portal-alX9cN9q.js";import"./fade-DJA5vkWX.js";import"./Transition-BJIFcN-9.js";import"./typography-CKxPqBqf.js";import"./button_base-TMPd0JGl.js";const J=S(E)(n=>({minWidth:"16px",minHeight:"16px",...n.theme.mode==="dark"?{boxShadow:"var(--pv-shadow-dark-medium)",backgroundColor:"var(--pv-color-gray-3)"}:{boxShadow:"var(--pv-shadow-light-low)",backgroundColor:"var(--pv-color-white)"}})),f=o.forwardRef((n,h)=>{const{label:v,children:b,...s}=n,[i,p]=o.useState(!1),a=o.useRef(null),c=B(h,a),r=o.useCallback(()=>p(!0),[]),u=o.useCallback(()=>p(!1),[]);return e.jsxs(j,{...s,endIcon:e.jsx(F,{}),ref:c,onMouseEnter:r,onMouseLeave:u,onClick:r,children:[v,e.jsx(A,{open:i,anchorEl:a.current,placement:"right-start",disablePortal:!0,onMouseLeave:u,children:e.jsx(D,{component:J,borderRadius:4,children:b})})]})});f.displayName="SubMenuItem";try{f.displayName="SubMenuItem",f.__docgenInfo={description:"",displayName:"SubMenuItem",props:{component:{defaultValue:null,description:`The component used for the root node.
Either a string to use a HTML element or a component.`,name:"component",required:!0,type:{name:"ElementType<any, keyof IntrinsicElements>"}},disabled:{defaultValue:null,description:"If `true`, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},textVariant:{defaultValue:null,description:"The variant of text to use.",name:"textVariant",required:!1,type:{name:"enum",value:[{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"s1"'},{value:'"s2"'},{value:'"b1"'},{value:'"b2"'},{value:'"b3"'},{value:'"btn1"'},{value:'"btn2"'},{value:'"c1"'},{value:'"c2"'}]}},startIcon:{defaultValue:null,description:"Element placed before the children.",name:"startIcon",required:!1,type:{name:"ReactNode"}},endIcon:{defaultValue:null,description:"Element placed after the children.",name:"endIcon",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"The className of the component.",name:"className",required:!1,type:{name:"string"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const W=S(z)({'&[data-popper-placement^="bottom"]':{margin:"var(--pv-size-base-3) 0px"},'&[data-popper-placement^="top"]':{margin:"var(--pv-size-base-3) 0px"},'&[data-popper-placement^="right"]':{margin:"0px var(--pv-size-base-3)"},'&[data-popper-placement^="left"]':{margin:"0px var(--pv-size-base-3)"}}),l=o.forwardRef((n,h)=>{const{children:v,options:b,onClose:s,popoverProps:i={}}=n,{modalProps:p={}}=i,[a,c]=o.useState(!1),r=o.useRef(null),u=()=>{c(!0)},g=()=>{c(!1),s&&s()},w=t=>d=>{t.onClick&&t.onClick(d),g()},q=t=>{t.key==="Tab"&&(t.preventDefault(),g())},x=(t,d)=>{const{component:P,disabled:C,label:M,subOptions:y,className:k,textVariant:I,startIcon:T,endIcon:L,onClick:X,..._}=t;return y&&y.length?e.jsx(f,{component:P,textVariant:I,disabled:C,label:M,className:k,..._,children:y.map(x)},d):e.jsx(j,{component:P,textVariant:I,disabled:C,onClick:w(t),className:k,startIcon:T,endIcon:L,..._,children:M},d)},O={ref:r,onClick:u,"aria-haspopup":"menu","aria-expanded":String(a)};return e.jsxs(e.Fragment,{children:[o.cloneElement(v,O),e.jsx(W,{...i,modalProps:{...p,disableAutoFocus:!1},ref:h,open:a,anchorEl:r.current,onClose:g,onKeyDown:q,children:e.jsx(E,{children:b.map(x)})})]})});l.displayName="Menu";l.defaultProps={};try{l.displayName="Menu",l.__docgenInfo={description:"",displayName:"Menu",props:{children:{defaultValue:null,description:"Menu reference element.",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},options:{defaultValue:null,description:"Menu contents.",name:"options",required:!0,type:{name:"MenuOptionProps[]"}},onClose:{defaultValue:null,description:"Callback fired when the component requests to be closed.",name:"onClose",required:!1,type:{name:"() => void"}},popoverProps:{defaultValue:null,description:"Props applied to the `Popover` element.",name:"popoverProps",required:!1,type:{name:"Partial<PopoverProps>"}}}}}catch{}const be={title:"Components/Menu",component:l,tags:["autodocs"],args:{children:e.jsx(K,{children:"+"}),options:[{label:"Print",disabled:!0,onClick:()=>console.log("print")},{label:"Save to my profile",startIcon:e.jsx(H,{})},{label:"Options",subOptions:[{label:"Full screen",onClick:()=>console.log("full screen")},{label:"Search",onClick:()=>console.log("search")},{label:"Previous",onClick:()=>console.log("previous")},{label:"Next",onClick:()=>console.log("next")}]}]},argTypes:{children:{control:!1},options:{control:!1},popoverProps:{control:!1}}},m={};var V,N,R;m.parameters={...m.parameters,docs:{...(V=m.parameters)==null?void 0:V.docs,source:{originalSource:"{}",...(R=(N=m.parameters)==null?void 0:N.docs)==null?void 0:R.source}}};const ge=["Playground"];export{m as Playground,ge as __namedExportsOrder,be as default};
