import{j as s}from"./jsx-runtime-Du8NFWEI.js";import{r as x}from"./index-Dl6G-zuu.js";import{n as N}from"./emotion-styled.browser.esm-Cx145QRj.js";import{F as V}from"./fade-C0vUgQhK.js";import{A as E}from"./alert-1P3nDRGy.js";import{P as k}from"./portal-LLJfCWjL.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-L5l4RKBO.js";import"./emotion-element-c39617d8.browser.esm-DM69r4Qw.js";import"./use_merged_ref-ClS6-mGQ.js";import"./Transition-D6EvYID4.js";import"./inheritsLoose-B7h9gheN.js";import"./index-D1_ZHIBm.js";import"./flex_container-D1TdyU-p.js";import"./typography-CsxZaBy5.js";import"./icon_button-CzyagQbN.js";import"./button-DN7WsDQ9.js";import"./button_base-ruFjRc3L.js";import"./tooltip-CjyVWfXb.js";import"./emotion-react.browser.esm-0eqfKSP6.js";import"./box-DqWWW0cx.js";import"./popper-BOWOMzoz.js";import"./usePopper-Q5pBTNBt.js";import"./use_controllable-DUuBybTH.js";import"./close_icon-pwUgUdvH.js";import"./close_circle_icon-CXAzXn8S.js";import"./warning_icon-DwY-wTzM.js";import"./circular_progress-BhiYwC6M.js";import"./use_enhanced_effect-Bwnr551i.js";const b=()=>{throw new Error("You forgot to wrap your component in <ToastProvider>.")},v={addToast:b,removeToast:b,removeAllToasts:b},w=x.createContext(v),A=N("div")({position:"fixed",bottom:0,padding:"10px",zIndex:1300,width:"100%",maxWidth:"460px",wordBreak:"break-word",left:"50%",transform:"translateX(-50%)","& > * + *":{marginTop:"10px"}}),T=n=>{const{children:l,...a}=n;return s.jsx(A,{...a,children:l})};T.displayName="ToastContainer";try{T.displayName="ToastContainer",T.__docgenInfo={description:"",displayName:"ToastContainer",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const m=n=>{const{id:l,duration:a,isClosable:i,alertProps:f,children:u,onClose:y}=n,c=()=>{y(l)};return x.useEffect(()=>{if(a>0){const C=window.setTimeout(c,a);return()=>{clearTimeout(C)}}}),s.jsx(V,{in:!0,children:s.jsx(E,{...f,onClose:i?c:void 0,children:u})})};m.displayName="Toast";m.defaultProps={duration:4e3};try{m.displayName="Toast",m.__docgenInfo={description:"",displayName:"Toast",props:{id:{defaultValue:null,description:"The `id` of the toast. Mostly used when you need to prevent duplicate.",name:"id",required:!0,type:{name:"string"}},children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"Callback fired when the component requests to be closed.",name:"onClose",required:!0,type:{name:"(id: string) => void"}},duration:{defaultValue:{value:"4000"},description:"The delay before the toast hides (in milliseconds). If set to `null`, toast will never dismiss.",name:"duration",required:!1,type:{name:"number"}},isClosable:{defaultValue:null,description:"If `true`, toast will show a close button.",name:"isClosable",required:!1,type:{name:"boolean"}},alertProps:{defaultValue:null,description:"Props applied to the `Alert` element.",name:"alertProps",required:!1,type:{name:'Omit<AlertProps, "children" | "onClose">'}}}}}catch{}const p=n=>{const{children:l,toastContainerProps:a,maxToasts:i=1}=n,[f,u]=x.useState({toasts:[],queue:[]}),y=t=>{const e=t.id||`${Date.now()}${Math.random()}`,d={...t,id:e,createdAt:Date.now()};u(r=>r.queue.findIndex(q=>q.id===e)>-1||r.toasts.findIndex(q=>q.id===e)>-1?r:r.toasts.length>=i?{toasts:r.toasts,queue:[...r.queue,d]}:{queue:r.queue,toasts:[...r.toasts,d]})},c=t=>{u(e=>{const d=e.toasts.findIndex(o=>o.id===t);if(d>-1&&e.queue.length){const o=[...e.toasts];return o.splice(d,1),o.push(e.queue[0]),{queue:e.queue.slice(1,e.queue.length),toasts:o}}return d>-1?{queue:e.queue,toasts:e.toasts.filter(o=>o.id!==t)}:e.queue.findIndex(o=>o.id===t)>-1?{toasts:e.toasts,queue:e.queue.filter(o=>o.id!==t)}:e})},C=()=>{u({toasts:[],queue:[]})},I=!!f.toasts.length;return s.jsxs(w.Provider,{value:{addToast:y,removeToast:c,removeAllToasts:C},children:[l,I&&s.jsx(k,{children:s.jsx(T,{...a,children:f.toasts.map(t=>s.jsx(m,{id:t.id,onClose:c,isClosable:t.isClosable,duration:t.duration,alertProps:{disableIcon:t.disableIcon,variant:t.variant},children:t.message},t.id))})})]})};p.displayName="ToastProvider";p.defaultProps={maxToasts:1};try{p.displayName="ToastProvider",p.__docgenInfo={description:"",displayName:"ToastProvider",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},maxToasts:{defaultValue:{value:"1"},description:"Maximum snackbars that can be stacked on bottom of one another.",name:"maxToasts",required:!1,type:{name:"number"}},toastContainerProps:{defaultValue:null,description:"Props applied to the `ToastContainer` element.",name:"toastContainerProps",required:!1,type:{name:'Omit<ToastContainerProps, "children">'}}}}}catch{}const j=()=>x.useContext(w),ue={title:"Hooks/useToast",component:j},R=()=>{const{addToast:n,removeAllToasts:l}=j(),a=["success","wrong","attention","pending"];return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"baseline",gap:10},children:[a.map(i=>s.jsxs("button",{type:"button",onClick:()=>{n({message:`${i} toast`,variant:i,disableIcon:!1,isClosable:!0})},children:["Show"," ",i," ","toast"]},i)),s.jsx("button",{type:"button",onClick:l,children:"Remove all toasts"})]})},h=()=>s.jsx(p,{maxToasts:4,children:s.jsx(R,{})});var _,P,g;h.parameters={...h.parameters,docs:{...(_=h.parameters)==null?void 0:_.docs,source:{originalSource:`() => <ToastProvider maxToasts={4}>
    <ToastStatusExample />
  </ToastProvider>`,...(g=(P=h.parameters)==null?void 0:P.docs)==null?void 0:g.source}}};const ce=["DemoExample"];export{h as DemoExample,ce as __namedExportsOrder,ue as default};
