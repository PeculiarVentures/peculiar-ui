import{j as c}from"./jsx-runtime-xF634gn_.js";import{g as K,r as L,e as D}from"./index-C-7etoUd.js";import{f as k,U as R,D as U}from"./index-damAVF4b.js";import"./preview-DgRBVWRr.js";import"./DocsRenderer-CFRXHY34-B0RqBBu9.js";import{G as $}from"./emotion-react.browser.esm-vU_FEsrj.js";import{o as B,q as Y}from"./utils-B0NLhKM1.js";import{b as W}from"./emotion-element-f0de968e.browser.esm-DLlpVLeB.js";import"./iframe-DDO_FEXa.js";import"./index-dzNl0v_V.js";import"./index-DWe4bgYs.js";import"./index-DgH-xKnr.js";import"./index-DrFu-skq.js";import"./react-18-DsDEQfx7.js";var h="DARK_MODE",O,A;function G(){return A||(A=1,O=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,a,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!r(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[a]))return!1;for(a=n;a--!==0;){var i=o[a];if(!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}),O}var H=G();const P=K(H);function f(r){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(r)}var b;function j(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function C(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j(Object(t),!0).forEach(function(n){F(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function F(r,e,t){return e=J(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function J(r){var e=z(r,"string");return f(e)==="symbol"?e:String(e)}function z(r,e){if(f(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function d(r){return ee(r)||Q(r)||Z(r)||X()}function X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(r,e){if(r){if(typeof r=="string")return S(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(r,e)}}function Q(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ee(r){if(Array.isArray(r))return S(r)}function S(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}const{global:re}=__STORYBOOK_MODULE_GLOBAL__,{STORY_CHANGED:Re,SET_STORIES:Me,DOCS_RENDERED:xe}=__STORYBOOK_MODULE_CORE_EVENTS__;var M=re,te=M.document,g=M.window,x="sb-addon-themes-3";(b=g.matchMedia)===null||b===void 0||b.call(g,"(prefers-color-scheme: dark)");var E={classTarget:"body",dark:k.dark,darkClass:["dark"],light:k.light,lightClass:["light"],stylePreview:!1,userHasExplicitlySetTheTheme:!1},w=function(e){g.localStorage.setItem(x,JSON.stringify(e))},ne=function(e,t){var n=t.current,a=t.darkClass,o=a===void 0?E.darkClass:a,i=t.lightClass,s=i===void 0?E.lightClass:i;if(n==="dark"){var l,u;(l=e.classList).remove.apply(l,d(y(s))),(u=e.classList).add.apply(u,d(y(o)))}else{var p,T;(p=e.classList).remove.apply(p,d(y(o))),(T=e.classList).add.apply(T,d(y(s)))}},y=function(e){var t=[];return t.concat(e).map(function(n){return n})},ae=function(e){var t=te.querySelector(e.classTarget);t&&ne(t,e)},q=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=g.localStorage.getItem(x);if(typeof t=="string"){var n=JSON.parse(t);return e&&(e.dark&&!P(n.dark,e.dark)&&(n.dark=e.dark,w(n)),e.light&&!P(n.light,e.light)&&(n.light=e.light,w(n))),n}return C(C({},E),e)};ae(q());function oe(r,e){return ue(r)||le(r,e)||se(r,e)||ie()}function ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(r,e){if(r){if(typeof r=="string")return I(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(r,e)}}function I(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function le(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,o,i,s=[],l=!0,u=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(l=(n=o.call(t)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(p){u=!0,a=p}finally{try{if(!l&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}function ue(r){if(Array.isArray(r))return r}const{addons:ce,useState:fe,useEffect:me}=__STORYBOOK_MODULE_PREVIEW_API__;function pe(){var r=fe(q().current==="dark"),e=oe(r,2),t=e[0],n=e[1];return me(function(){var a=ce.getChannel();return a.on(h,n),function(){return a.off(h,n)}},[]),t}const{definePreview:qe}=__STORYBOOK_MODULE_PREVIEW_API__,m=r=>{const{children:e,mode:t="light",theme:n,cssVarsRoot:a="html, ::backdrop"}=r,o=L.useMemo(()=>B(Y(t,n)),[n,t]);return c.jsxs(W,{theme:{mode:t},children:[c.jsx($,{styles:{[a]:o}}),e]})};m.displayName="ThemeProvider";try{m.displayName="ThemeProvider",m.__docgenInfo={description:"",displayName:"ThemeProvider",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},theme:{defaultValue:null,description:"The theme object.",name:"theme",required:!1,type:{name:"IThemeOptionsType"}},mode:{defaultValue:{value:"'light'"},description:"The theme mode.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},cssVarsRoot:{defaultValue:{value:"'html, ::backdrop'"},description:"The CSS variables root selector.",name:"cssVarsRoot",required:!1,type:{name:"string"}}}}}catch{}const de="@peculiar/react-components",ye="1.7.0",v={name:de,version:ye},V=R({base:"light",brandTitle:`${v.name} v${v.version}`}),N=R({base:"dark",brandTitle:`${v.name} v${v.version}`,appPreviewBg:"#1B1C1D"}),{addons:he}=__STORYBOOK_MODULE_PREVIEW_API__,_=he.getChannel(),ge=r=>{const{context:e,children:t}=r,[n,a]=D.useState(!1);return D.useEffect(()=>(_.on(h,a),()=>_.removeListener(h,a)),[_,a]),c.jsx(m,{mode:n?"dark":"light",children:c.jsx(U,{theme:n?N:V,context:e,children:t})})},ve=r=>{const e=pe();return c.jsx(m,{mode:e?"dark":"light",children:r()})},Ve={decorators:[ve],parameters:{actions:{argTypesRegex:"^on[A-Z].*"},darkMode:{dark:N,light:V},docs:{container:ge},options:{storySort:{method:"alphabetical",order:["Installation","Customization",["CSS Variables","Palette","Dark mode"],"Components","Hooks"]}}}};export{Ve as default};
