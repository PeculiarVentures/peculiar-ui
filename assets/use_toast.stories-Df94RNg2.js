import{j as s}from"./jsx-runtime-xF634gn_.js";import{r as x}from"./index-C-7etoUd.js";import{n as N}from"./emotion-styled.browser.esm-D5cirWhA.js";import{F as V}from"./fade-DHl67KFq.js";import{A as E}from"./alert-DRFkO5oW.js";import{P as k}from"./portal-B1al-bvw.js";import"./emotion-element-43c6fea0.browser.esm-BY9Huquz.js";import"./use_merged_ref-ClS6-mGQ.js";import"./Transition-RLbX08wD.js";import"./index-dzNl0v_V.js";import"./index-DWe4bgYs.js";import"./typography-CX2mak6k.js";import"./icon_button-CjJTTcjM.js";import"./tooltip-Coc6yecg.js";import"./emotion-react.browser.esm-4GvqO_Dn.js";import"./use_controllable-DXs9Mygf.js";import"./popper-CZKyUyjx.js";import"./usePopper-CdO4NS3w.js";import"./box-BnLF-nfb.js";import"./button-DKNSmEZd.js";import"./button_base-CYjMRpzX.js";import"./close_icon-DLJ9YGil.js";import"./flex_container-Bs1E_qIl.js";import"./close_circle_icon-Nt97DkBN.js";import"./warning_icon-D6xCuvw-.js";import"./circular_progress-C2zFoG7h.js";import"./use_enhanced_effect-B1RabiBj.js";const b=()=>{throw new Error("You forgot to wrap your component in <ToastProvider>.")},v={addToast:b,removeToast:b,removeAllToasts:b},w=x.createContext(v),A=N("div")({position:"fixed",bottom:0,padding:"10px",zIndex:1300,width:"100%",maxWidth:"460px",wordBreak:"break-word",left:"50%",transform:"translateX(-50%)","& > * + *":{marginTop:"10px"}}),f=n=>{const{children:l,...a}=n;return s.jsx(A,{...a,children:l})};f.displayName="ToastContainer";try{f.displayName="ToastContainer",f.__docgenInfo={description:"",displayName:"ToastContainer",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const h=n=>{const{id:l,duration:a=4e3,isClosable:i,alertProps:m,children:u,onClose:y}=n,c=()=>{y(l)};return x.useEffect(()=>{if(a>0){const C=window.setTimeout(c,a);return()=>{clearTimeout(C)}}},[]),s.jsx(V,{in:!0,children:s.jsx(E,{...m,onClose:i?c:void 0,children:u})})};h.displayName="Toast";try{h.displayName="Toast",h.__docgenInfo={description:"",displayName:"Toast",props:{id:{defaultValue:null,description:"The `id` of the toast. Mostly used when you need to prevent duplicate.",name:"id",required:!0,type:{name:"string"}},children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"Callback fired when the component requests to be closed.",name:"onClose",required:!0,type:{name:"(id: string) => void"}},duration:{defaultValue:{value:"4000"},description:"The delay before the toast hides (in milliseconds). If set to `null`, toast will never dismiss.",name:"duration",required:!1,type:{name:"number"}},isClosable:{defaultValue:null,description:"If `true`, toast will show a close button.",name:"isClosable",required:!1,type:{name:"boolean"}},alertProps:{defaultValue:null,description:"Props applied to the `Alert` element.",name:"alertProps",required:!1,type:{name:'Omit<TAlertProps, "children" | "onClose">'}}}}}catch{}const T=n=>{const{children:l,toastContainerProps:a,maxToasts:i=1}=n,[m,u]=x.useState({toasts:[],queue:[]}),y=t=>{const e=t.id||`${Date.now()}${Math.random()}`,d={...t,id:e,createdAt:Date.now()};u(r=>r.queue.findIndex(q=>q.id===e)>-1||r.toasts.findIndex(q=>q.id===e)>-1?r:r.toasts.length>=i?{toasts:r.toasts,queue:[...r.queue,d]}:{queue:r.queue,toasts:[...r.toasts,d]})},c=t=>{u(e=>{const d=e.toasts.findIndex(o=>o.id===t);if(d>-1&&e.queue.length){const o=[...e.toasts];return o.splice(d,1),o.push(e.queue[0]),{queue:e.queue.slice(1,e.queue.length),toasts:o}}return d>-1?{queue:e.queue,toasts:e.toasts.filter(o=>o.id!==t)}:e.queue.findIndex(o=>o.id===t)>-1?{toasts:e.toasts,queue:e.queue.filter(o=>o.id!==t)}:e})},C=()=>{u({toasts:[],queue:[]})},I=!!m.toasts.length;return s.jsxs(w.Provider,{value:{addToast:y,removeToast:c,removeAllToasts:C},children:[l,I&&s.jsx(k,{children:s.jsx(f,{...a,children:m.toasts.map(t=>s.jsx(h,{id:t.id,isClosable:t.isClosable,duration:t.duration,alertProps:{disableIcon:t.disableIcon,variant:t.variant},onClose:c,children:t.message},t.id))})})]})};T.displayName="ToastProvider";try{T.displayName="ToastProvider",T.__docgenInfo={description:"",displayName:"ToastProvider",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},maxToasts:{defaultValue:{value:"1"},description:"Maximum snackbars that can be stacked on bottom of one another.",name:"maxToasts",required:!1,type:{name:"number"}},toastContainerProps:{defaultValue:null,description:"Props applied to the `ToastContainer` element.",name:"toastContainerProps",required:!1,type:{name:'Omit<TToastContainerProps, "children">'}}}}}catch{}const j=()=>x.useContext(w),de={title:"Hooks/useToast",component:j},R=()=>{const{addToast:n,removeAllToasts:l}=j(),a=["success","wrong","attention","pending"];return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"baseline",gap:10},children:[a.map(i=>s.jsxs("button",{type:"button",onClick:()=>{n({message:`${i} toast`,variant:i,disableIcon:!1,isClosable:!0})},children:["Show"," ",i," ","toast"]},i)),s.jsx("button",{type:"button",onClick:l,children:"Remove all toasts"})]})},p=()=>s.jsx(T,{maxToasts:4,children:s.jsx(R,{})});var _,g,P;p.parameters={...p.parameters,docs:{...(_=p.parameters)==null?void 0:_.docs,source:{originalSource:`() => <ToastProvider maxToasts={4}>
    <ToastStatusExample />
  </ToastProvider>`,...(P=(g=p.parameters)==null?void 0:g.docs)==null?void 0:P.source}}};const ue=["DemoExample"];export{p as DemoExample,ue as __namedExportsOrder,de as default};
