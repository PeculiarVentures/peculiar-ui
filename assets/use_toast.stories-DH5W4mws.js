import{j as s}from"./jsx-runtime-CQsLhzk5.js";import{r as x}from"./index-Wp2u197Z.js";import{n as N}from"./emotion-styled.browser.esm-C7XpMTT7.js";import{F as V}from"./fade-Cuc5mZJ8.js";import{A as E}from"./alert-WxY4HHP8.js";import{P as k}from"./portal-BQAxhhmg.js";import"./emotion-element-c39617d8.browser.esm-BF_KrTCf.js";import"./use_merged_ref-ClS6-mGQ.js";import"./Transition-CwNB1HnW.js";import"./index-DA8gG4lw.js";import"./flex_container-Mo97eaUq.js";import"./typography-eusGYDsR.js";import"./icon_button-CW3ANnsQ.js";import"./button-DtxPy5A0.js";import"./button_base-CnhFyHMe.js";import"./tooltip-19nN0sAz.js";import"./emotion-react.browser.esm-8Xjhr7rM.js";import"./box-C5Rrcmvk.js";import"./popper-BC-5vKzS.js";import"./usePopper-DrB3v0g8.js";import"./use_controllable-DRJrQW8S.js";import"./close_icon-CNZMa0ZK.js";import"./close_circle_icon-C2ZjPKy3.js";import"./warning_icon-BCyTww0l.js";import"./circular_progress-QyqZkcES.js";import"./use_enhanced_effect-C1-U52iU.js";const b=()=>{throw new Error("You forgot to wrap your component in <ToastProvider>.")},v={addToast:b,removeToast:b,removeAllToasts:b},w=x.createContext(v),A=N("div")({position:"fixed",bottom:0,padding:"10px",zIndex:1300,width:"100%",maxWidth:"460px",wordBreak:"break-word",left:"50%",transform:"translateX(-50%)","& > * + *":{marginTop:"10px"}}),T=n=>{const{children:l,...r}=n;return s.jsx(A,{...r,children:l})};T.displayName="ToastContainer";try{T.displayName="ToastContainer",T.__docgenInfo={description:"",displayName:"ToastContainer",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const m=n=>{const{id:l,duration:r,isClosable:i,alertProps:f,children:u,onClose:y}=n,c=()=>{y(l)};return x.useEffect(()=>{if(r>0){const C=window.setTimeout(c,r);return()=>{clearTimeout(C)}}},[]),s.jsx(V,{in:!0,children:s.jsx(E,{...f,onClose:i?c:void 0,children:u})})};m.displayName="Toast";m.defaultProps={duration:4e3};try{m.displayName="Toast",m.__docgenInfo={description:"",displayName:"Toast",props:{id:{defaultValue:null,description:"The `id` of the toast. Mostly used when you need to prevent duplicate.",name:"id",required:!0,type:{name:"string"}},children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"Callback fired when the component requests to be closed.",name:"onClose",required:!0,type:{name:"(id: string) => void"}},duration:{defaultValue:{value:"4000"},description:"The delay before the toast hides (in milliseconds). If set to `null`, toast will never dismiss.",name:"duration",required:!1,type:{name:"number"}},isClosable:{defaultValue:null,description:"If `true`, toast will show a close button.",name:"isClosable",required:!1,type:{name:"boolean"}},alertProps:{defaultValue:null,description:"Props applied to the `Alert` element.",name:"alertProps",required:!1,type:{name:'Omit<AlertProps, "children" | "onClose">'}}}}}catch{}const p=n=>{const{children:l,toastContainerProps:r,maxToasts:i=1}=n,[f,u]=x.useState({toasts:[],queue:[]}),y=t=>{const e=t.id||`${Date.now()}${Math.random()}`,d={...t,id:e,createdAt:Date.now()};u(a=>a.queue.findIndex(q=>q.id===e)>-1||a.toasts.findIndex(q=>q.id===e)>-1?a:a.toasts.length>=i?{toasts:a.toasts,queue:[...a.queue,d]}:{queue:a.queue,toasts:[...a.toasts,d]})},c=t=>{u(e=>{const d=e.toasts.findIndex(o=>o.id===t);if(d>-1&&e.queue.length){const o=[...e.toasts];return o.splice(d,1),o.push(e.queue[0]),{queue:e.queue.slice(1,e.queue.length),toasts:o}}return d>-1?{queue:e.queue,toasts:e.toasts.filter(o=>o.id!==t)}:e.queue.findIndex(o=>o.id===t)>-1?{toasts:e.toasts,queue:e.queue.filter(o=>o.id!==t)}:e})},C=()=>{u({toasts:[],queue:[]})},I=!!f.toasts.length;return s.jsxs(w.Provider,{value:{addToast:y,removeToast:c,removeAllToasts:C},children:[l,I&&s.jsx(k,{children:s.jsx(T,{...r,children:f.toasts.map(t=>s.jsx(m,{id:t.id,onClose:c,isClosable:t.isClosable,duration:t.duration,alertProps:{disableIcon:t.disableIcon,variant:t.variant},children:t.message},t.id))})})]})};p.displayName="ToastProvider";p.defaultProps={maxToasts:1};try{p.displayName="ToastProvider",p.__docgenInfo={description:"",displayName:"ToastProvider",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},maxToasts:{defaultValue:{value:"1"},description:"Maximum snackbars that can be stacked on bottom of one another.",name:"maxToasts",required:!1,type:{name:"number"}},toastContainerProps:{defaultValue:null,description:"Props applied to the `ToastContainer` element.",name:"toastContainerProps",required:!1,type:{name:'Omit<ToastContainerProps, "children">'}}}}}catch{}const j=()=>x.useContext(w),le={title:"Hooks/useToast",component:j},R=()=>{const{addToast:n,removeAllToasts:l}=j(),r=["success","wrong","attention","pending"];return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"baseline",gap:10},children:[r.map(i=>s.jsxs("button",{type:"button",onClick:()=>{n({message:`${i} toast`,variant:i,disableIcon:!1,isClosable:!0})},children:["Show"," ",i," ","toast"]},i)),s.jsx("button",{type:"button",onClick:l,children:"Remove all toasts"})]})},h=()=>s.jsx(p,{maxToasts:4,children:s.jsx(R,{})});var _,P,g;h.parameters={...h.parameters,docs:{...(_=h.parameters)==null?void 0:_.docs,source:{originalSource:`() => <ToastProvider maxToasts={4}>
    <ToastStatusExample />
  </ToastProvider>`,...(g=(P=h.parameters)==null?void 0:P.docs)==null?void 0:g.source}}};const de=["DemoExample"];export{h as DemoExample,de as __namedExportsOrder,le as default};
