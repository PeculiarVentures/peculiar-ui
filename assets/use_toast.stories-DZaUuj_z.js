import{j as s}from"./jsx-runtime-xF634gn_.js";import{r as m}from"./index-C-7etoUd.js";import{u as q}from"./use_event_callback-Bv_r7I8n.js";import{s as E}from"./emotion-styled.browser.esm-CnX2NPaZ.js";import{F as k}from"./fade-DHl67KFq.js";import{A as v}from"./alert-BkE8i-Z1.js";import{P as A}from"./portal-B1al-bvw.js";import"./use_enhanced_effect-B1RabiBj.js";import"./emotion-element-f0de968e.browser.esm-DLlpVLeB.js";import"./use_merged_ref-ClS6-mGQ.js";import"./Transition-RLbX08wD.js";import"./index-dzNl0v_V.js";import"./index-DWe4bgYs.js";import"./typography-DuoUhFsW.js";import"./icon_button-B_qjpZRK.js";import"./tooltip-Djt3E04f.js";import"./emotion-react.browser.esm-vU_FEsrj.js";import"./use_controllable-DXs9Mygf.js";import"./popper-BZ0Tb2Dg.js";import"./box-BYP7GzWl.js";import"./button-Bswhh1yh.js";import"./button_base-CybQvLg0.js";import"./close_icon-DLJ9YGil.js";import"./flex_container-CIirikiM.js";import"./close_circle_icon-Nt97DkBN.js";import"./warning_icon-D6xCuvw-.js";import"./circular_progress-21b84dtv.js";const _=()=>{throw new Error("You forgot to wrap your component in <ToastProvider>.")},R={addToast:_,removeToast:_,removeAllToasts:_},j=m.createContext(R),D=E("div")({position:"fixed",bottom:0,padding:"10px",zIndex:1300,width:"100%",maxWidth:"460px",wordBreak:"break-word",left:"50%",transform:"translateX(-50%)","& > * + *":{marginTop:"10px"}}),x=n=>{const{children:l,...r}=n;return s.jsx(D,{...r,children:l})};x.displayName="ToastContainer";try{x.displayName="ToastContainer",x.__docgenInfo={description:"",displayName:"ToastContainer",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const y=n=>{const{id:l,duration:r=4e3,isClosable:i,alertProps:p,children:c,onClose:f}=n,d=()=>{f(l)};return m.useEffect(()=>{if(r>0){const h=window.setTimeout(d,r);return()=>{clearTimeout(h)}}},[]),s.jsx(k,{in:!0,children:s.jsx(v,{...p,onClose:i?d:void 0,children:c})})};y.displayName="Toast";try{y.displayName="Toast",y.__docgenInfo={description:"",displayName:"Toast",props:{id:{defaultValue:null,description:"The `id` of the toast. Mostly used when you need to prevent duplicate.",name:"id",required:!0,type:{name:"string"}},children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"Callback fired when the component requests to be closed.",name:"onClose",required:!0,type:{name:"(id: string) => void"}},duration:{defaultValue:{value:"4000"},description:"The delay before the toast hides (in milliseconds). If set to `null`, toast will never dismiss.",name:"duration",required:!1,type:{name:"number"}},isClosable:{defaultValue:null,description:"If `true`, toast will show a close button.",name:"isClosable",required:!1,type:{name:"boolean"}},alertProps:{defaultValue:null,description:"Props applied to the `Alert` element.",name:"alertProps",required:!1,type:{name:'Omit<TAlertProps, "children" | "onClose">'}}}}}catch{}const C=n=>{const{children:l,toastContainerProps:r,maxToasts:i=1}=n,[p,c]=m.useState({toasts:[],queue:[]}),f=q(t=>{const e=t.id||`${Date.now()}${Math.random()}`,u={...t,id:e,createdAt:Date.now()};c(a=>a.queue.findIndex(b=>b.id===e)>-1||a.toasts.findIndex(b=>b.id===e)>-1?a:a.toasts.length>=i?{toasts:a.toasts,queue:[...a.queue,u]}:{queue:a.queue,toasts:[...a.toasts,u]})}),d=q(t=>{c(e=>{const u=e.toasts.findIndex(o=>o.id===t);if(u>-1&&e.queue.length){const o=[...e.toasts];return o.splice(u,1),o.push(e.queue[0]),{queue:e.queue.slice(1,e.queue.length),toasts:o}}return u>-1?{queue:e.queue,toasts:e.toasts.filter(o=>o.id!==t)}:e.queue.findIndex(o=>o.id===t)>-1?{toasts:e.toasts,queue:e.queue.filter(o=>o.id!==t)}:e})}),h=q(()=>{c({toasts:[],queue:[]})}),N=!!p.toasts.length,V=m.useMemo(()=>({addToast:f,removeToast:d,removeAllToasts:h}),[f,d,h]);return s.jsxs(j.Provider,{value:V,children:[l,N&&s.jsx(A,{children:s.jsx(x,{...r,children:p.toasts.map(t=>s.jsx(y,{id:t.id,isClosable:t.isClosable,duration:t.duration,alertProps:{disableIcon:t.disableIcon,variant:t.variant},onClose:d,children:t.message},t.id))})})]})};C.displayName="ToastProvider";try{C.displayName="ToastProvider",C.__docgenInfo={description:"",displayName:"ToastProvider",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!0,type:{name:"ReactNode"}},maxToasts:{defaultValue:{value:"1"},description:"Maximum snackbars that can be stacked on bottom of one another.",name:"maxToasts",required:!1,type:{name:"number"}},toastContainerProps:{defaultValue:null,description:"Props applied to the `ToastContainer` element.",name:"toastContainerProps",required:!1,type:{name:'Omit<TToastContainerProps, "children">'}}}}}catch{}const I=()=>m.useContext(j),ce={title:"Hooks/useToast",component:I},M=()=>{const{addToast:n,removeAllToasts:l}=I(),r=["success","wrong","attention","pending"];return s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"baseline",gap:10},children:[r.map(i=>s.jsxs("button",{type:"button",onClick:()=>{n({message:`${i} toast`,variant:i,disableIcon:!1,isClosable:!0})},children:["Show"," ",i," ","toast"]},i)),s.jsx("button",{type:"button",onClick:l,children:"Remove all toasts"})]})},T=()=>s.jsx(C,{maxToasts:4,children:s.jsx(M,{})});var g,P,w;T.parameters={...T.parameters,docs:{...(g=T.parameters)==null?void 0:g.docs,source:{originalSource:`() => <ToastProvider maxToasts={4}>
    <ToastStatusExample />
  </ToastProvider>`,...(w=(P=T.parameters)==null?void 0:P.docs)==null?void 0:w.source}}};const me=["DemoExample"];export{T as DemoExample,me as __namedExportsOrder,ce as default};
